<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ØªÙˆØ³ÙŠØ¹ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Form View -->
    <record id="view_event_form_inherit_trip" model="ir.ui.view">
        <field name="name">event.event.form.inherit.trip</field>
        <field name="model">event.event</field>
        <field name="inherit_id" ref="event.view_event_form"/>
        <field name="arch" type="xml">
            
            <!-- âœ… Ø¥Ø¶Ø§ÙØ© Smart Button Ù„Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø© Ù…Ø¹ Ø²Ø± Ø¥Ù†Ø´Ø§Ø¡ -->
            <xpath expr="//div[@name='button_box']" position="inside">
                <!-- Ø²Ø± Ø¹Ø±Ø¶ Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø· -->
                <button name="action_view_trip"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-bus"
                        attrs="{'invisible': [('trip_id', '=', False)]}">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_text">Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø©</span>
                        <span class="o_stat_text">Ø§Ù„Ù…Ø±ØªØ¨Ø·</span>
                    </div>
                </button>
                
                <!-- Ø²Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø±Ø­Ù„Ø© -->
                <button name="action_create_trip_request"
                        type="object"
                        class="oe_stat_button"
                        icon="fa-plus-square"
                        attrs="{'invisible': [('can_create_trip', '=', False)]}">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_text">Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨</span>
                        <span class="o_stat_text">Ø±Ø­Ù„Ø©</span>
                    </div>
                </button>
            </xpath>
            
            <!-- Ø­Ù‚ÙˆÙ„ Ù…Ø®ÙÙŠØ© -->
            <xpath expr="//field[@name='event_type_id']" position="after">
                <field name="is_school_trip" invisible="1"/>
                <field name="can_create_trip" invisible="1"/>
            </xpath>
            
            <!-- Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø© Ø¨Ø¹Ø¯ Ù†ÙˆØ¹ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© -->
            <xpath expr="//field[@name='event_type_id']" position="after">
                <field name="trip_id" 
                       attrs="{'invisible': [('is_school_trip', '=', False)]}"
                       readonly="1"/>
            </xpath>
            
            <!-- âœ… Ø¥Ø¶Ø§ÙØ© ØªÙ†Ø¨ÙŠÙ‡ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ø±Ø­Ù„Ø© Ù…Ø¯Ø±Ø³ÙŠØ© Ø¨Ø¯ÙˆÙ† Ø·Ù„Ø¨ -->
            <xpath expr="//sheet" position="inside">
                <div class="alert alert-info" role="alert" 
                     attrs="{'invisible': ['|', ('is_school_trip', '=', False), ('trip_id', '!=', False)]}">
                    <strong>ğŸ’¡ Ù†ØµÙŠØ­Ø©:</strong> Ù‡Ø°Ù‡ ÙØ¹Ø§Ù„ÙŠØ© Ø±Ø­Ù„Ø© Ù…Ø¯Ø±Ø³ÙŠØ©. 
                    ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø±Ø­Ù„Ø© Ù…Ø±ØªØ¨Ø· Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø²Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰.
                    <br/>
                    Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø­ÙØ¸ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©.
                </div>
            </xpath>

        </field>
    </record>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆØ¯ Ø·Ù„Ø¨ Ø§Ù„Ø±Ø­Ù„Ø© ÙÙŠ Tree View -->
    <record id="view_event_tree_inherit_trip" model="ir.ui.view">
        <field name="name">event.event.tree.inherit.trip</field>
        <field name="model">event.event</field>
        <field name="inherit_id" ref="event.view_event_tree"/>
        <field name="arch" type="xml">
            <!-- Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ trip_id -->
            <xpath expr="//field[@name='name']" position="after">
                <field name="is_school_trip" optional="hide"/>
                <field name="trip_id" optional="show" 
                       attrs="{'invisible': [('is_school_trip', '=', False)]}"/>
            </xpath>
        </field>
    </record>
    
    <!-- âœ… Ø¥Ø¶Ø§ÙØ© ÙÙ„Ø§ØªØ± Ø¨Ø­Ø« Ù„Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© -->
    <record id="view_event_search_inherit_trip" model="ir.ui.view">
        <field name="name">event.event.search.inherit.trip</field>
        <field name="model">event.event</field>
        <field name="inherit_id" ref="event.view_event_search"/>
        <field name="arch" type="xml">
            <xpath expr="//search" position="inside">
                <separator/>
                <filter name="school_trips" 
                        string="Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©" 
                        domain="[('is_school_trip', '=', True)]"/>
                <filter name="with_trip_request" 
                        string="Ù„Ø¯ÙŠÙ‡Ø§ Ø·Ù„Ø¨ Ø±Ø­Ù„Ø©" 
                        domain="[('trip_id', '!=', False)]"/>
                <filter name="without_trip_request" 
                        string="Ø¨Ø¯ÙˆÙ† Ø·Ù„Ø¨ Ø±Ø­Ù„Ø©" 
                        domain="[('is_school_trip', '=', True), ('trip_id', '=', False)]"/>
            </xpath>
        </field>
    </record>

</odoo>